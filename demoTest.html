<!DOCTYPE html>
<HTML>
<HEAD>
    <TITLE> ZTREE DEMO </TITLE>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="libs/zTreeStyle.css" type="text/css">

</HEAD>
<body>
<div>
    <ul id="treeDemo" class="ztree"></ul>
</div>
<script type='text/javascript' src='libs/jquery-1.12.4.min.js' charset='utf-8'></script>
<script type="text/javascript" src="libs/jquery.ztree.core.js"></script>
<script type="text/javascript" src="libs/jquery.ztree.excheck.js"></script>
<script type="text/javascript" src="libs/tools.js"></script>
<SCRIPT LANGUAGE="JavaScript">
var setting = {check:{
/*   autoCheckTrigger:false,
   chkboxType:{"Y":"ps","N":"ps"},
   nochekcInherit:false,
   chkDidsabledInherit:false,
   radioType:"level",*/
   chkStyle:"checkbox",
   enable:true,
   },
   data:{
    simpleData:{enable:true},
<!--   key:{-->
<!--   name:"name",-->
<!--   children:"children"}-->
   }};
   // zTree 的数据属性，深入使用请参考 API 文档（zTreeNode 节点数据详解）
   var zNodes = [
   {name:"test1",
   open:true,
   children:[
      {name:"test1_1"},
      {name:"test1_2"}]
      },
   {name:"test2", open:true, children:[
      {name:"test2_1"}, {name:"test2_2"}]}
   ];
   getDataByAjax= function (url, params, successCallback) {
    $.ajax({
      type: "GET",
      url: baseUrlFromAPP + url,
      data: params,
      beforeSend: function (request) {
        // request.setRequestHeader("Authorization", localStorage.getItem("Authorization"));
        request.setRequestHeader("Authorization", tokenFromAPP);
      },
      success: function (data) {
        if (data == undefined) {
          return;
        } else {
          if (data.code == "200") {
            successCallback(data.data);
          }
        }
      },
      error: function (data) {
        $.hidePreloader();
        if (data.status == 0) {
          $.toast("无法连接到网络，请检查网络设置。");
        } else {
          $.toast("数据请求失败");
        }
      }
    });
  }
     getDataByAjax("/subDeviceTreeSelectHideOrShow",{fSubid:10100001},function(data){
      $(document).ready(function(){
         zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, data.subDeviceGroupList);
      });
   });
  </SCRIPT>
</body>
</HTML>